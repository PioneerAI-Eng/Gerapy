(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aaf1d298"],{"0c41":function(t,s,a){},"3ee3":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$lang.objects.task}}),t.task?a("div",{staticClass:"panel-body"},[a("div",{staticClass:"m-b"},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(t._s(t.task.trigger))]),a("span",{staticClass:"text"},[t._v(t._s(t.task.configuration))])],1),a("div",{staticClass:"m-b"},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$lang.objects.project)+"\n\t\t\t\t\t\t")]),a("span",{staticClass:"text"},[t._v(t._s(t.task.project))])],1),a("div",{staticClass:"m-b"},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$lang.objects.spider)+"\n\t\t\t\t\t\t")]),a("span",{staticClass:"text"},[t._v(t._s(t.task.spider))])],1)]):t._e()],1)])],1),a("el-row",{attrs:{gutter:20}},t._l(t.jobs,function(s){return a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$lang.objects.job}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingJob,expression:"loadingJob"}],staticClass:"panel-body"},[a("div",{staticClass:"m-b"},[a("el-button",{staticClass:"m-r-xs",attrs:{type:"primary",size:"mini"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$lang.objects.client)+"\n\t\t\t\t\t\t")]),a("span",{staticClass:"text"},[t._v(t._s(s.client.name))])],1),a("div",{staticClass:"m-b"},[a("el-button",{staticClass:"m-r-xs",attrs:{type:"primary",size:"mini"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$lang.buttons.nextTime)+"\n\t\t\t\t\t\t")]),a("span",{staticClass:"text"},[t._v(t._s(s.next))])],1),a("el-row",{staticClass:"text-center m-t-md"},[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"number"},[t._v(t._s(t.executedJobs(s)))]),a("small",[t._v(" "+t._s(t.$lang.descriptions.executedJobs))])]),a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"number"},[t._v(t._s(t.errorJobs(s)))]),a("small",[t._v(" "+t._s(t.$lang.descriptions.errorJobs))])])],1)],1)],1)])}),1)],1)},n=[],i=(a("ac6a"),a("eee4")),r={data:function(){return{id:this.$route.params.id,jobs:[],task:null,loadingJob:!1}},computed:{},mounted:function(){var t=this;setInterval(function(){t.getJobsData()},2e3),this.getTaskData()},methods:{getJobsData:function(){var t=this;this.$http.get(this.formatString(this.$store.state.url.task.status,{id:this.id})).then(function(s){var a=s.data.data;t.jobs=a}).catch(function(){t.$message.error(t.$store.getters.$lang.messages.loadError)})},getTaskData:function(){var t=this;this.id&&this.$http.get(this.formatString(this.$store.state.url.task.info,{id:this.id})).then(function(s){var a=s.data.data;t.task=a}).catch(function(){t.$message.error(t.$store.getters.$lang.messages.loadError)})},executedJobs:function(t){var s=0;return t.executions.forEach(function(t){"Started execution"===t.fields.status&&(s+=1)}),s},errorJobs:function(t){var s=0;return t.executions.forEach(function(t){"Error!"===t.fields.status&&(s+=1)}),s}},components:{PanelTitle:i["a"]}},o=r,l=(a("5589"),a("2877")),c=Object(l["a"])(o,e,n,!1,null,"545410f0",null);s["default"]=c.exports},5589:function(t,s,a){"use strict";var e=a("0c41"),n=a.n(e);n.a},eee4:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"panel-title"},[t.title?a("span",{domProps:{textContent:t._s(t.title)}}):t._e(),a("div",{staticClass:"fr"},[t._t("default")],2)])},n=[],i={name:"PanelTitle",props:{title:{type:String}}},r=i,o=a("2877"),l=Object(o["a"])(r,e,n,!1,null,null,null);s["a"]=l.exports}}]);
//# sourceMappingURL=chunk-aaf1d298.80dfe5a4.js.map